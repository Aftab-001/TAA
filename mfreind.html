<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tally Prime with & GST - Exam</title>
<style>
body { margin:0; font-family:"Segoe UI",Arial,sans-serif; background:#f4f6f9; color:#222; }
header {
  background:#1976d2; color:#fff; padding:15px 30px; display:flex; justify-content:center; align-items:center;
  position:relative; box-shadow:0 0 15px #1976d2aa;
}
#designer { position:absolute; left:30px; font-size:16px; font-weight:500; }
header h1 { font-size:22px; margin:0; text-align:center; }
#timer { position:absolute; right:30px; font-size:18px; font-weight:bold; }

.container { max-width:900px; margin:30px auto; background:#fff; border-radius:12px; padding:25px; box-shadow:0 0 25px #1976d2aa; }
.progress { height:10px; background:#eee; border-radius:5px; overflow:hidden; margin-bottom:20px; }
.progress-bar { height:10px; background:#1976d2; width:0%; box-shadow:0 0 10px #1976d2; transition:width 0.3s ease; }
.question-number { font-size:14px; color:#555; margin-bottom:8px; }
.question { font-size:20px; font-weight:500; margin-bottom:18px; color:#111; }
.options label { display:block; padding:12px; margin:10px 0; border:2px solid #1976d2; border-radius:6px; cursor:pointer; transition:all 0.2s ease; background:#f9f9f9; color:#222; }
.options input { margin-right:10px; }
.options label:hover { box-shadow:0 0 10px #1976d2; border-color:#1976d2; }
.buttons { display:flex; justify-content:space-between; margin-top:25px; gap:10px; }
button { padding:12px 25px; border:none; border-radius:6px; font-size:16px; cursor:pointer; color:#fff; transition:0.3s; }
.btn-prev { background:#ff4081; box-shadow:0 0 15px #ff4081; }
.btn-next { background:#1976d2; box-shadow:0 0 15px #1976d2; }
.btn-reexam { background:#f57c00; box-shadow:0 0 15px #f57c00; }
.btn-submit { background:#4CAF50; box-shadow:0 0 15px #4CAF50; width:100%; margin-top:20px; }
button:hover { transform:scale(1.05); }
.result { display:none; margin-top:25px; padding:20px; background:#e8f5e9; border:2px solid #4CAF50; border-radius:8px; text-align:center; font-size:20px; font-weight:bold; color:#2e7d32; box-shadow:0 0 20px #4CAF50aa; }
.correct { background:#c8e6c9 !important; border-color:#2e7d32 !important; box-shadow:0 0 10px #2e7d32; }
.wrong { background:#ffcdd2 !important; border-color:#c62828 !important; box-shadow:0 0 10px #c62828; }

/* ----- Mobile Responsive Styling ----- */
@media (max-width: 768px) {
  header h1 { font-size: 18px; }
  #designer { font-size: 14px; left: 15px; }
  #timer { font-size: 16px; right: 15px; }

  .container { margin:15px; padding:15px; }
  .question { font-size:18px; }
  .options label { font-size:15px; padding:10px; }
  button { font-size:15px; padding:10px 18px; }
  .btn-submit { font-size:16px; }
  .result { font-size:18px; padding:15px; }
}

@media (max-width: 480px) {
  header h1 { font-size: 16px; text-align:center; }
  #designer { font-size: 12px; }
  #timer { font-size: 14px; }

  .container { margin:10px; padding:12px; }
  .question { font-size:16px; }
  .options label { font-size:14px; padding:8px; }
  button { font-size:14px; padding:8px 15px; }
  .btn-submit { font-size:15px; }
  .result { font-size:16px; }
}

/* ----- Mobile Header Responsive Fix ----- */
@media (max-width: 768px) {
  header {
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    align-items: center !important;
    text-align: center;
    height: auto;
    padding: 10px;
  }
  #designer, #timer {
    position: static !important;
    margin: 8px 0;
    text-align: center;
  }
  header h1 {
    font-size: 18px;
    margin: 5px 0;
    text-align: center;
  }
}
</style>
</head>
<body>
<header>
  <div id="designer">Designed by Aftab</div>
  <h1>Welcome Surbhi | Tally Prime & GST Exam</h1>
  <div id="timer">Time: 0:00</div>
</header>

<div class="container">
  <div class="progress"><div id="progressBar" class="progress-bar"></div></div>
  <div id="quizContent"></div>
  <div class="buttons">
    <button class="btn-prev" id="prevBtn" onclick="prevQuestion()">Previous</button>
    <button class="btn-reexam" id="reexamBtn" onclick="reExam()">Re-Exam</button>
    <button class="btn-next" id="nextBtn" onclick="nextQuestion()">Next</button>
  </div>
  <button class="btn-submit" id="submitBtn" onclick="submitQuiz()">Submit Quiz</button>
  <div id="result" class="result"></div>
</div>

<script>
// --- Questions array aapka same rahega ---
const questions = [
  {q: "Which option needs to be enabled to activate GST in Tally Prime?", options:["F11 → Accounting Features","F11 → Statutory & Taxation","F12 → Configuration","Gateway → Inventory Features"], answer: "F11 → Statutory & Taxation"},
  // ... (rest of your questions unchanged)
];

let currentQuestion = 0;
let timer = 0;
let timerInterval = null;
let userAnswers = Array(questions.length).fill(null);
let isSubmitted = false;

const quizContent = document.getElementById("quizContent");
const progressBar = document.getElementById("progressBar");
const resultDiv = document.getElementById("result");
const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");

function loadQuestion(){
    const item = questions[currentQuestion];
    quizContent.innerHTML=`
    <div class="question-number">Question ${currentQuestion+1} of ${questions.length}</div>
    <div class="question">${item.q}</div>
    <div class="options">
    ${item.options.map(opt=>`
    <label>
    <input type="radio" name="q${currentQuestion}" value="${opt}" ${userAnswers[currentQuestion]===opt?"checked":""} ${isSubmitted?"disabled":""}>
    ${opt}
    </label>`).join("")}
    </div>`;
    updateProgress();
    updateButtons();

    if(!isSubmitted){
        const optionsInputs = document.querySelectorAll(`input[name="q${currentQuestion}"]`);
        optionsInputs.forEach(input=>{
            input.addEventListener("change",()=>{ userAnswers[currentQuestion]=input.value; });
        });
    } else {
        const optionsInputs = document.querySelectorAll(`input[name="q${currentQuestion}"]`);
        optionsInputs.forEach(input=>{
            if(input.value === item.answer){
                input.parentElement.classList.add("correct");
            }
            if(userAnswers[currentQuestion] === input.value && input.value !== item.answer){
                input.parentElement.classList.add("wrong");
            }
            input.disabled = true;
        });
    }
}

function nextQuestion(){ if(currentQuestion<questions.length-1){currentQuestion++; loadQuestion();} }
function prevQuestion(){ if(currentQuestion>0){currentQuestion--; loadQuestion();} }
function updateProgress(){ progressBar.style.width=((currentQuestion+1)/questions.length)*100+"%"; }
function updateButtons(){ prevBtn.disabled=currentQuestion===0; nextBtn.disabled=currentQuestion===questions.length-1; prevBtn.style.opacity=prevBtn.disabled?0.5:1; nextBtn.style.opacity=nextBtn.disabled?0.5:1; }

function submitQuiz(){
    isSubmitted = true;
    clearInterval(timerInterval);

    questions.forEach((item,index)=>{
        const options = document.querySelectorAll(`input[name="q${index}"]`);
        options.forEach(opt=>{
            if(opt.value === item.answer){
                opt.parentElement.classList.add("correct");
            }
            if(opt.checked && opt.value !== item.answer){
                opt.parentElement.classList.add("wrong");
            }
            opt.disabled = true;
        });
    });

    resultDiv.style.display = "block";
    let score = userAnswers.reduce((acc,ans,idx)=> ans===questions[idx].answer?acc+1:acc ,0);

    let minutes = Math.floor(timer / 60);
    let seconds = timer % 60;
    let timeTaken = `${minutes}:${seconds < 10 ? "0" : ""}${seconds}`;

    resultDiv.textContent = `You scored ${score} out of ${questions.length} | Time Taken: ${timeTaken}`;
}

function reExam(){
    isSubmitted = false;
    userAnswers.fill(null);
    currentQuestion = 0;
    timer = 0;           
    resultDiv.style.display = "none";
    loadQuestion();
    startTimer();

    document.querySelectorAll(".correct, .wrong").forEach(el=>{
        el.classList.remove("correct","wrong");
    });

    const allInputs = document.querySelectorAll("input[type='radio']");
    allInputs.forEach(inp=>inp.disabled=false);
}

function startTimer(){
    const timerDisplay = document.getElementById("timer");
    clearInterval(timerInterval);
    timerInterval = setInterval(()=>{
        timer++;
        let minutes = Math.floor(timer / 60);
        let seconds = timer % 60;
        timerDisplay.textContent = `Time: ${minutes}:${seconds<10?"0":""}${seconds}`;
    }, 1000);
}

loadQuestion();
startTimer();
</script>
</body>
</html>
